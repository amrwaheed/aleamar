(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4h7C":function(e,t,n){"use strict";n.r(t);var l=n("ofXK"),a=n("tyNb"),r=n("fXoL");let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-new-customer"]],decls:1,vars:0,template:function(e,t){1&e&&r["\u0275\u0275element"](0,"router-outlet")},directives:[a.h],styles:[""]}),e})();var o=n("uZM4"),s=n("sYmb"),d=n("944j");let m=(()=>{class e{constructor(e,t,n){this.translate=e,this.override=t,this.datepipe=n,this.entityData={name:"newCustomer",all:{columnDefs:[{headerName:this.translate.instant("id"),field:"id",checkboxSelection:!0,filter:!0,sortable:!0,editable:!1},{headerName:this.translate.instant("fullName"),field:"fullName",filter:!0,checkboxSelection:!1,sortable:!0,editable:!1},{headerName:this.translate.instant("username"),field:"username",filter:!0,checkboxSelection:!1,sortable:!0,editable:!0},{type:"email",headerName:this.translate.instant("email"),field:"email",filter:!0,checkboxSelection:!1,sortable:!0,editable:!1},{type:"phoneNumber",headerName:this.translate.instant("phoneNumber"),field:"phoneNumber",filter:!0,checkboxSelection:!1,sortable:!0,editable:!1},{type:"workType",headerName:this.translate.instant("workType"),field:"workType",filter:!0,checkboxSelection:!1,sortable:!0,editable:!1}]},edit:!1,view:!0,add:!0,delete:!0,upload:!1}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.e),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](l.f))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-all-new-customer"]],decls:1,vars:1,consts:[[3,"entityData"]],template:function(e,t){1&e&&r["\u0275\u0275element"](0,"app-all-generic",0),2&e&&r["\u0275\u0275property"]("entityData",t.entityData)},directives:[d.a],styles:[""]}),e})();var p=n("3Pt+"),c=n("SRLw");let u=(()=>{class e{constructor(e,t){this.translate=e,this.override=t,this.form={entityName:"newCustomer",path:"newCustomer",fields:[{type:"text",name:"fullName",label:this.translate.instant("fullName"),required:!0,validators:[p.F.required],multiline:!1,class:"col-md-12"},{type:"text",name:"username",label:this.translate.instant("username"),required:!0,validators:[p.F.required],multiline:!1,class:"col-md-3"},{type:"email",name:"email",label:this.translate.instant("email"),required:!0,validators:[p.F.required,p.F.email],multiline:!1,class:"col-md-3"},{type:"text",name:"phoneNumber",label:this.translate.instant("phoneNumber"),required:!0,validators:[p.F.required,p.F.pattern(this.override.phoneNumberRegExp)],multiline:!1,class:"col-md-3"},{type:"dropdown",name:"workType",label:this.translate.instant("workType"),multiple:!1,validators:[p.F.required],details:this.translate.instant("SelectWorkType"),options:[{value:"design",label:this.translate.instant("design")},{value:"supervision",label:this.translate.instant("Supervision")},{value:"designAndSupervision",label:this.translate.instant("DesignAndSupervision")}],required:!0,disabled:!1,class:"col-md-3"}]},this.forms=new p.j({})}recieve(e){this.forms=e}rSaved(e){this.saved=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.e),r["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-new-customer-control"]],decls:1,vars:1,consts:[[3,"input","forms","save"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"dynamic-form-builder",0),r["\u0275\u0275listener"]("forms",(function(e){return t.recieve(e)}))("save",(function(e){return t.rSaved(e)})),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("input",t.form)},directives:[c.a],styles:[""]}),e})();var f=n("JuyU"),h=n("m01I"),b=n("aceb");function v(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"nb-alert",29),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"]("","fullName"," ",r["\u0275\u0275pipeBind1"](2,2,"is Invalid")," "))}function y(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"nb-alert",29),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"]("","email"," ",r["\u0275\u0275pipeBind1"](2,2,"is Invalid")," "))}function w(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"nb-alert",29),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"]("","phoneNumber"," ",r["\u0275\u0275pipeBind1"](2,2,"is Invalid")," "))}function g(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"nb-alert",29),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"]("","workType"," ",r["\u0275\u0275pipeBind1"](2,2,"is Invalid")," "))}function S(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"nb-list-item"),r["\u0275\u0275elementStart"](1,"div",30),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",31),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",30),r["\u0275\u0275elementStart"](7,"button",32),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit,l=t.index;return r["\u0275\u0275nextContext"]().onDelete(n.id,l)})),r["\u0275\u0275text"](8),r["\u0275\u0275pipe"](9,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](3,6,e.createdAt,"dd-MM-yyyy hh:mm:ss")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.message),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("shape","round")("status","danger")("size","medium"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](9,9,"Delete")," ")}}const I=function(){return["/pages/newCustomer/all"]},N=[{path:"",component:i,children:[{path:"",component:m},{path:"all",component:m},{path:"control",component:u},{path:"edit/:entityId",component:u},{path:"view/:entityId",component:(()=>{class e{constructor(e,t,n,l){this.route=e,this.entity=t,this.override=n,this.fb=l,this.followsUps=[],this.forms=this.fb.group({id:this.fb.control(null),fullName:this.fb.control(""),email:this.fb.control(""),phoneNumber:this.fb.control(""),workType:this.fb.control("")}),this.formFollow=this.fb.group({id:this.fb.control(null),message:this.fb.control("",[p.F.required]),createdAt:this.fb.control(new Date)})}ngOnInit(){this.entityId=this.route.snapshot.paramMap.get("entityId"),this.entity.getOne(h.a.newCustomer.getOne,this.entityId).then(e=>{e.subscribe(e=>{this.forms.get("id").setValue(e.id),this.forms.get("fullName").setValue(e.fullName),this.forms.get("email").setValue(e.email),this.forms.get("phoneNumber").setValue(e.phoneNumber),this.forms.get("workType").setValue(e.workType),this.followsUps=e.followUps})})}onSubmit(){if(this.formFollow.invalid)return!1;const e=Object.assign({newCustomer:{id:this.forms.value.id}},this.formFollow.value);this.entity.save(h.a.followUp.post,e).then(e=>{e.subscribe(e=>{this.followsUps.push(e),this.formFollow.reset()})})}onDelete(e,t){this.entity.delete(h.a.followUp.delete,e,e).then(t=>{t.subscribe(t=>{this.followsUps=this.followsUps.filter(t=>t.id!==e)})}).catch(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](f.a),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](p.f))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-view-new-customer"]],decls:63,vars:52,consts:[[3,"formGroup"],[1,"row","colors"],[1,"col-8","item","text-heading"],[1,"row"],[1,"col"],[1,"text-info"],[1,"col","text-center"],[1,"col-auto"],["nbButton","","hero","","routerLinkActive","router-link-active",3,"status","shape","size","routerLink"],[1,"col-md-3"],["for","fullName",1,"label"],["readOnly","","rows","3","formControlName","fullName","id","fullName","nbInput","","fullWidth","","fieldSize","medium","shape","rectangle",3,"placeholder"],["fullName",""],["status","warning","accent","primary",4,"ngIf"],["for","email",1,"label"],["readOnly","","rows","3","formControlName","email","id","email","nbInput","","fullWidth","","fieldSize","medium","shape","rectangle",3,"placeholder"],["email",""],["for","phoneNumber",1,"label"],["readOnly","","rows","3","formControlName","phoneNumber","id","phoneNumber","nbInput","","fullWidth","","fieldSize","medium","shape","rectangle",3,"placeholder"],["phoneNumber",""],["for","workType",1,"label"],["readOnly","","rows","3","formControlName","workType","id","workType","nbInput","","fullWidth","","fieldSize","medium","shape","rectangle",3,"placeholder"],["workType",""],[1,"col-sm-12","col-md-10"],["rows","3","id","message","formControlName","message","nbInput","","fullWidth","","fieldSize","medium","shape","rectangle",3,"placeholder"],["message",""],[1,"col-sm-12","col-md-2"],["nbButton","","hero","","fullWidth","","hero","",3,"disabled","shape","status","size","click"],[4,"ngFor","ngForOf"],["status","warning","accent","primary"],[1,"col-2"],[1,"col-8","wr","h-25"],["nbButton","","hero","","hero","","fullWidth","",3,"shape","status","size","click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275elementStart"](1,"nb-card"),r["\u0275\u0275elementStart"](2,"nb-card-header",1),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"h4",5),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",6),r["\u0275\u0275elementStart"](10,"div",3),r["\u0275\u0275elementStart"](11,"div",7),r["\u0275\u0275elementStart"](12,"button",8),r["\u0275\u0275text"](13),r["\u0275\u0275pipe"](14,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"nb-card"),r["\u0275\u0275elementStart"](16,"nb-card-body",3),r["\u0275\u0275elementStart"](17,"div",9),r["\u0275\u0275elementStart"](18,"label",10),r["\u0275\u0275text"](19),r["\u0275\u0275pipe"](20,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](21,"input",11,12),r["\u0275\u0275pipe"](23,"translate"),r["\u0275\u0275template"](24,v,3,4,"nb-alert",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](25,"div",9),r["\u0275\u0275elementStart"](26,"label",14),r["\u0275\u0275text"](27),r["\u0275\u0275pipe"](28,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](29,"input",15,16),r["\u0275\u0275pipe"](31,"translate"),r["\u0275\u0275template"](32,y,3,4,"nb-alert",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"div",9),r["\u0275\u0275elementStart"](34,"label",17),r["\u0275\u0275text"](35),r["\u0275\u0275pipe"](36,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](37,"input",18,19),r["\u0275\u0275pipe"](39,"translate"),r["\u0275\u0275template"](40,w,3,4,"nb-alert",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](41,"div",9),r["\u0275\u0275elementStart"](42,"label",20),r["\u0275\u0275text"](43),r["\u0275\u0275pipe"](44,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](45,"input",21,22),r["\u0275\u0275pipe"](47,"translate"),r["\u0275\u0275template"](48,g,3,4,"nb-alert",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](49,"form",0),r["\u0275\u0275elementStart"](50,"nb-card"),r["\u0275\u0275elementStart"](51,"nb-card-body"),r["\u0275\u0275elementStart"](52,"nb-list"),r["\u0275\u0275elementStart"](53,"nb-list-item"),r["\u0275\u0275elementStart"](54,"div",23),r["\u0275\u0275element"](55,"input",24,25),r["\u0275\u0275pipe"](57,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](58,"div",26),r["\u0275\u0275elementStart"](59,"button",27),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275text"](60),r["\u0275\u0275pipe"](61,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](62,S,10,11,"nb-list-item",28),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.forms),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](8,27,"followUp")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("status","success")("shape","round")("size","medium")("routerLink",r["\u0275\u0275pureFunction0"](51,I)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](14,29,"viewAll")," "),r["\u0275\u0275advance"](6),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](20,31,"fullName")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](23,33,"fullName")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.forms.get("fullName").touched&&t.forms.get("fullName").invalid),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](28,35,"email")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](31,37,"email")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.forms.get("email").touched&&t.forms.get("email").invalid),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](36,39,"phoneNumber")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](39,41,"phoneNumber")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.forms.get("phoneNumber").touched&&t.forms.get("phoneNumber").invalid),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](44,43,"workType")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](47,45,"workType")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.forms.get("workType").touched&&t.forms.get("workType").invalid),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("formGroup",t.formFollow),r["\u0275\u0275advance"](6),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](57,47,"message")),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",t.formFollow.invalid)("shape","round")("status","info")("size","medium"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](61,49,"save")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.followsUps))},directives:[p.H,p.s,p.k,b.p,b.s,b.l,a.e,a.d,b.o,p.c,b.K,p.r,p.i,l.u,b.T,b.U,l.t,b.j],pipes:[s.d,l.f],styles:[".wr[_ngcontent-%COMP%]{overflow:auto;word-wrap:break-word}"]}),e})()}]}];let x=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.g.forChild(N)],a.g]}),e})();var E=n("Tk/f"),k=n("PAYq"),B=n("pxUr");n.d(t,"NewCustomerModule",(function(){return C}));let C=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,x,s.c,E.a,k.a,b.t,b.L,b.ob,p.m,p.B,b.k,B.b,b.m,b.V,b.i,b.S]]}),e})()}}]);